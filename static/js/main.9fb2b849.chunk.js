(this["webpackJsonpweather-now"]=this["webpackJsonpweather-now"]||[]).push([[0],{1:function(e,t,a){e.exports={card:"WeatherCard_card__3v955",header:"WeatherCard_header__1QQCK",main:"WeatherCard_main__1dei7",temperature:"WeatherCard_temperature__Mnppv",cold:"WeatherCard_cold__2JND7",medium:"WeatherCard_medium__3YcJO",hot:"WeatherCard_hot__534yN",footer:"WeatherCard_footer__2PAnV","footer-loading":"WeatherCard_footer-loading__18mfm","main-footer-loading":"WeatherCard_main-footer-loading__27l-8","content-footer":"WeatherCard_content-footer__3JicL","wrapper-content-footer":"WeatherCard_wrapper-content-footer__14hv3","value-indicator":"WeatherCard_value-indicator__1G4_o","info-update":"WeatherCard_info-update__rM3lT","wrapper-error-message":"WeatherCard_wrapper-error-message__3ML3Q","card-order":"WeatherCard_card-order__21hHo"}},18:function(e,t,a){e.exports=a.p+"static/media/logo.45377fd6.svg"},21:function(e,t,a){e.exports=a.p+"static/media/loader.d542c686.svg"},22:function(e,t,a){e.exports=a(46)},27:function(e,t,a){},4:function(e,t,a){e.exports={container:"Main_container__E2cZj","wrapper-weather":"Main_wrapper-weather__1b7RP","wrapper-weather-cards":"Main_wrapper-weather-cards__1dPiJ"}},46:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),o=a.n(c),i=(a(27),a(4)),l=a.n(i),s=a(18),u=a.n(s),m=a(6),d=a.n(m),p=function(){return n.a.createElement("div",{className:d.a.container},n.a.createElement("img",{src:u.a,className:d.a.logo,alt:"logo"}))},f=a(3),h=a.n(f),_=a(7),w=a(19),v=a(5),g=a(1),E=a.n(g),y=a(20),b=a.n(y),O=function(e){localStorage.setItem("".concat(e.city).concat(e.country).toLowerCase(),JSON.stringify(e.weather))},N=a(21),j=a.n(N);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var W=function(e){var t=e.main,a=e.city,c=e.country,o=Object(r.useState)(!1),i=Object(v.a)(o,2),l=i[0],s=i[1],u=Object(r.useState)(""),m=Object(v.a)(u,2),d=m[0],p=m[1],f=Object(r.useState)({temp:"",humidity:"",pressure:"",date:""}),g=Object(v.a)(f,2),y=g[0],N=g[1],W=Object(r.useCallback)((function(e){N(t?function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e):{temp:e.temp,date:e.date}),s(!1)}),[t]),P=function(){var e=Object(_.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=Object(r.useCallback)((function(){s(!0);var e,t=function(e,t){return"http://api.epenweathermap.org/data/2.5/weather?q=".concat(e,",").concat(t,"&APPID=").concat("8561a5b7b131a9f8f6f5996bf4bb2c07")}(a,c);(e=t,b.a.get(e)).then((function(e){var t,r={temp:(t=e.data.main.temp,(t-273.15).toFixed(0)),humidity:e.data.main.humidity,pressure:e.data.main.pressure,date:new Date};W(r),P({city:a,country:c,weather:r})})).catch((function(e){p(e)}))}),[a,c,W]);Object(r.useEffect)((function(){var e=function(e){var t=JSON.parse(e);(function(e){var t=new Date(e.date);return(((new Date).getTime()-t.getTime())/1e3/60).toFixed()})(t)>10?S():W(t)},t=function(){var t=Object(_.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n={city:a,country:c},localStorage.getItem("".concat(n.city).concat(n.country).toLowerCase());case 2:(r=t.sent)?e(r):S();case 4:case"end":return t.stop()}var n}),t)})));return function(){return t.apply(this,arguments)}}();t(),setInterval((function(){return t()}),2e4)}),[a,c,t,S,W]);var x,k,D=l?n.a.createElement("img",{src:j.a,className:E.a.logo,alt:"logo"}):n.a.createElement("p",{className:"".concat(E.a.temperature," ").concat(E.a[(x=y.temp,x<=5?"cold":x>5&&x<=25?"medium":"hot")])},y.temp,"\xba"),J=n.a.createElement("div",{className:E.a["wrapper-error-message"]},n.a.createElement("p",null,"Someting went wrong"),n.a.createElement("button",{onClick:S()},"Try Again"));return n.a.createElement("div",{className:"".concat(E.a.card," ").concat(t&&E.a["card-order"])},n.a.createElement("div",{className:E.a.header},n.a.createElement("h3",null,"".concat(a,", ").concat(c))),n.a.createElement("div",{className:E.a.main},d?J:D),n.a.createElement("div",{className:"".concat(l?E.a["footer-loading"]:E.a.footer," ").concat(t&&l&&E.a["main-footer-loading"])},t&&!l&&n.a.createElement("div",{className:E.a["wrapper-content-footer"]},n.a.createElement("div",{className:E.a["content-footer"]},n.a.createElement("p",null,"HUMIDITY"),n.a.createElement("p",{className:E.a["value-indicator"]},y.humidity,n.a.createElement("small",null,"%"))),n.a.createElement("div",{className:E.a["content-footer"]},n.a.createElement("p",null,"PRESSURE"),n.a.createElement("p",{className:E.a["value-indicator"]},y.pressure,n.a.createElement("small",null,"hPa")))),!l&&n.a.createElement("p",{className:E.a["info-update"]},"Updated at ",(k=y.date)?new Date(k).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):"")))};var P=function(){return n.a.createElement("div",{className:l.a.container},n.a.createElement(p,null),n.a.createElement("div",{className:l.a["wrapper-weather"]},n.a.createElement("hr",null),n.a.createElement("div",{className:l.a["wrapper-weather-cards"]},n.a.createElement(W,{city:"Nuuk",country:"GL"}),n.a.createElement(W,{main:!0,city:"Urubici",country:"BR"}),n.a.createElement(W,{city:"Nairobi",country:"KE"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,a){e.exports={container:"Header_container__27QFJ",logo:"Header_logo__3EvUy"}}},[[22,1,2]]]);
//# sourceMappingURL=main.9fb2b849.chunk.js.map